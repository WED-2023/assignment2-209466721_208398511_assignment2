<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Space Invaders Game</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Space Invaders</h1>
      </div>
      <nav>
        <button onclick="showScreen('welcome')">Home</button>
        <button onclick="showScreen('aboutModal',true)">About</button>
      </nav>
    </header>

    <main>
      
      <div id="welcome" class="screen">
        <h2>Welcome!</h2>
        <img src="logo.png" alt="Logo" class="big-logo">
        <div class="actions">
          <button onclick="showScreen('register')">Register</button>
          <button onclick="showScreen('login')">Login</button>
        </div>
      </div>

    
      <div id="register" class="screen">
        <h2>Register</h2>
        <form id="registerForm" autocomplete="off">
          <input type="text" id="reg-username" placeholder="Username" required>
          <input type="password" id="reg-password" placeholder="Password" required>
          <input type="password" id="reg-confirm" placeholder="Confirm Password" required>
          <input type="text" id="reg-firstname" placeholder="First Name" required>
          <input type="text" id="reg-lastname" placeholder="Last Name" required>
          <input type="email" id="reg-email" placeholder="Email" required>
          <div class="dob">
            <select id="reg-year" required></select>
            <select id="reg-month" required></select>
            <select id="reg-day" required></select>
          </div>
          <button type="submit">Sign Up</button>
          <button type="button" onclick="showScreen('welcome')">Back</button>
        </form>
        <div id="register-error" class="error"></div>
      </div>

      
      <div id="login" class="screen">
        <h2>Login</h2>
        <form id="loginForm" autocomplete="off">
          <input type="text" id="login-username" placeholder="Username" required>
          <input type="password" id="login-password" placeholder="Password" required>
          <button type="submit">Login</button>
          <button type="button" onclick="showScreen('welcome')">Back</button>
        </form>
        <div id="login-error" class="error"></div>
      </div>

      
      <div id="config" class="screen">
        <h2>Game Configuration</h2>
        <form id="configForm">
            <label>
            Shooting Key:
            <select id="config-shootkey"></select>
            </label>
            <label>
            Game Duration (min 2 min):
            <input type="number" id="config-duration" min="2" max="10" value="2">
            </label>
            <label>
            Player Color:
            <input type="color" id="config-playerColor" value="#00aaff">
            </label>
            <label>
            Enemy Color:
            <input type="color" id="config-enemyColor" value="#ff9900">
            </label>
            <button type="button" onclick="startGame()">Start Game</button>
            <button type="button" onclick="showScreen('welcome')">Back</button>
        </form>
    </div>

      <!-- Game Screen -->
      <div id="game" class="screen">
        <div class="game-topbar">
          <span id="score">Score: 0</span>
          <span id="lives">Lives: 3</span>
          <span id="timer">Time: 00:00</span>
        </div>
        <canvas id="game-canvas" width="1200" height="600"></canvas>
        <div class="game-buttons">
          <button onclick="newGame()">New Game</button>
          <button onclick="showScreen('config')">Config</button>
        </div>
      </div>

      <!-- End Game Screen -->
      <div id="endgame" class="screen">
        <h2 id="endgame-title"></h2>
        <p id="endgame-score"></p>
        <div id="highscores"></div>
        <button onclick="showScreen('config')">Play Again</button>
        <button onclick="showScreen('welcome')">Home</button>
      </div>
    </main>

    <footer>
      <span>Space Invaders © 2025 | Contact: shonpl@post.bgu.ac.il</span>
    </footer>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal-bg" onclick="closeAbout(event)">
    <div class="modal" tabindex="-1">
      <button class="close-btn" onclick="hideAboutModal()">×</button>
      <h2>About</h2>
      <ul>
        <li>Authors: Shon Platok & Niv Sampson</li>
        <li>No template/plugins used</li>
        <li>Main difficulties: canvas timing & user validation</li>
        <li>Extra: diagonal movement, sound effects, score table</li>
      </ul>
      <h3>Game Instructions</h3>
      <ul>
        <li>Move: Arrow keys (within lower 40% of screen)</li>
        <li>Shoot: Your chosen key</li>
        <li>Destroy all enemy ships to win</li>
        <li>Each hit gives you points, more for upper rows</li>
        <li>3 lives only. Game speeds up every 5s (max 4 times)</li>
        <li>New game = resets score, table keeps your history</li>
      </ul>
    </div>
  </div>
  <audio id="bg-music" src="song.mp3" loop></audio>
  
</body>
<script src="script.js"></script>
</html>
